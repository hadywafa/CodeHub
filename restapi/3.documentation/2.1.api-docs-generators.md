# üìö API Documentation Generators

## The big idea

Treat your **OpenAPI spec as the single source of truth**. Then use a generator to produce:

- A **web doc site** (with search, navigation, code samples)
- An **interactive console** (‚ÄúTry it out‚Äù)
- Optional **SDKs** (clients in C#, JS/TS, Python, etc.)
- Optional **mock servers** and **changelogs**

---

## üîù Popular generators (what to choose, when)

| Tool                                       | Best for                           | Strengths                                            | Trade-offs                                          |
| ------------------------------------------ | ---------------------------------- | ---------------------------------------------------- | --------------------------------------------------- |
| **Swagger UI**                             | Quick, interactive docs            | ‚ÄúTry it out‚Äù, simple setup, de-facto standard        | Barebones look, limited theming                     |
| **Redoc**                                  | Polished, enterprise-readable docs | Beautiful 3-panel layout, deep schema browsing, fast | No built-in ‚Äútry it out‚Äù (needs Redocly or a proxy) |
| **Redocly (Portal)**                       | Productized docs portal            | Versioning, search, navigation, RBAC, CI linting     | Commercial (free tier exists)                       |
| **Stoplight Elements**                     | Balanced UX + try-it               | Good theming, embeds easily, ‚Äútry it‚Äù                | Heavier bundle than Swagger UI                      |
| **Postman (Public Workspaces)**            | Teams already on Postman           | Auto examples, mock servers, code gen                | Tied to Postman model/collections                   |
| **ReadMe / GitBook / Docusaurus + plugin** | Marketing-grade portal             | Full docs site + guides + OpenAPI embed              | Extra setup/integration work                        |
| **OpenAPI Generator (static HTML)**        | Offline/air-gapped docs            | Generates static docs/clients                        | Less interactive than portals                       |

> Quick picks:
>
> - Want the fastest path? **Swagger UI**.
> - Want clean, enterprise-ready reading? **Redoc**.
> - Want a full portal (search, versions, guides)? **Redocly** or **ReadMe**.
> - Your team lives in Postman? Publish a **Postman public workspace**.

---

## üöÄ Getting started fast

### 1) Swagger UI (host anywhere)

**index.html:**

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>API Docs</title>
  </head>
  <body>
    <div id="swagger-ui"></div>
    <script src="https://unpkg.com/swagger-ui-dist/swagger-ui-bundle.js"></script>
    <script>
      window.ui = SwaggerUIBundle({
        url: "/openapi.yaml", // or absolute URL
        dom_id: "#swagger-ui",
        deepLinking: true,
        docExpansion: "none",
      });
    </script>
  </body>
</html>
```

- Drop your `openapi.yaml` next to it.
- Open in any static host (Nginx, GitHub Pages, Netlify, S3+CloudFront).

### 2) Redoc (polished reader)

**index.html:**

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>API Docs</title>
  </head>
  <body>
    <redoc spec-url="/openapi.yaml"></redoc>
    <script src="https://unpkg.com/redoc/bundles/redoc.standalone.js"></script>
  </body>
</html>
```

- Gorgeous, searchable docs with minimal setup.
- If you need ‚Äútry it out‚Äù: pair with a small proxy or consider **Redocly**.

### 3) Stoplight Elements (nice UX + try-it)

```html
<script type="module">
  import "@stoplight/elements/styles.min.css";
  import { API } from "@stoplight/elements";
  import React from "https://esm.sh/react";
  import ReactDOM from "https://esm.sh/react-dom";
  ReactDOM.render(
    React.createElement(API, { apiDescriptionUrl: "/openapi.yaml", layout: "sidebar" }),
    document.getElementById("app")
  );
</script>
<div id="app"></div>
```

---

## üß© Make the docs great (from your OpenAPI)

1. **Tags & grouping**

   ```yaml
   tags:
     - name: Users
       description: Operations about user accounts
     - name: Files
       description: Upload & download

   paths:
     /users:
       get:
         tags: [Users]
         summary: List users
   ```

2. **Examples (request/response)**

   ```yaml
   requestBody:
     content:
       application/json:
         schema: { $ref: "#/components/schemas/UserCreate" }
         examples:
           createAli:
             value: { name: "Ali", email: "ali@example.com" }

   responses:
     "200":
       content:
         application/json:
           schema: { $ref: "#/components/schemas/User" }
           examples:
             ok:
               value: { id: 42, name: "Ali", email: "ali@example.com" }
   ```

3. **Auth (so ‚Äútry it out‚Äù works)**

   ```yaml
   components:
     securitySchemes:
       BearerAuth:
         type: http
         scheme: bearer
         bearerFormat: JWT
   security:
     - BearerAuth: []
   ```

4. **Errors (problem+json)**

   ```yaml
   components:
     schemas:
       Problem:
         type: object
         properties:
           {
             type: { type: string },
             title: { type: string },
             status: { type: integer },
             detail: { type: string },
             instance: { type: string },
           }
   ```

5. **Reusable parameters/pagination**

   ```yaml
   components:
     parameters:
       Page:
         in: query
         name: page
         schema: { type: integer, minimum: 1, default: 1 }
       Size:
         in: query
         name: size
         schema: { type: integer, minimum: 1, maximum: 100, default: 20 }

   paths:
     /users:
       get:
         parameters:
           - $ref: "#/components/parameters/Page"
           - $ref: "#/components/parameters/Size"
   ```

---

## üîÅ Keep docs in sync (CI/CD)

**Goal**: every PR updates the OpenAPI; CI validates and republishes the docs.

- **Lint** the spec (catch mistakes early):

  - Use **Spectral** with a ruleset (naming, tags, description required, etc.).

- **Preview** docs per PR (deploy preview on Netlify/Vercel).
- **Publish** to your static host on merge.

**Example (GitHub Actions):**

```yaml
name: docs
on: [push]
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - run: npm i -g @redocly/cli @stoplight/spectral-cli
      - run: spectral lint openapi.yaml
      - run: redocly build-docs openapi.yaml -o public/index.html
      - uses: peaceiris/actions-gh-pages@v3
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          publish_dir: public
```

---

## üß™ Extras that delight developers

- **Language code samples** (many generators auto-generate):

  - cURL, JavaScript (fetch/axios), C# (HttpClient), Python (requests).

- **Environment switcher** (dev/stage/prod servers).
- **SDK generation** (OpenAPI Generator):

  - `openapi-generator generate -g typescript-axios -i openapi.yaml -o ./sdk/ts`
  - `-g csharp -g python` etc.

- **Mock servers**:

  - Postman or Prism can serve mock responses from your OpenAPI examples.

- **Changelog**:

  - Track endpoint additions/breaking changes and render a versioned docs site.

---

## üîí Security notes for interactive docs

- ‚ÄúTry it out‚Äù calls your **live API** ‚Üí set **CORS** correctly.
- Consider a **sandbox/staging API** for the docs.
- Avoid exposing production secrets; use **bearer input fields**.
- Rate-limit and audit doc-origin requests.

---

## ‚úÖ Checklist before you publish

- OpenAPI passes **lint** (Spectral).
- Every operation has **summary**, **tags**, **responses**, **examples**.
- **Auth** defined so ‚Äútry it‚Äù works.
- **Errors** standardized (problem+json).
- Docs deployed from **CI**; not manual.
- Searchable, versioned (if API has v1/v2).
- Link to **SDKs** if you generate them.
