# üî§ Data Types & Variables in `C#`

## üß† What Are Data Types?

In C#, every variable must have a **type** ‚Äî this defines:

- üì¶ What kind of **data** it can hold
- ‚öôÔ∏è What **operations** can be performed on it
- üßÆ How it‚Äôs stored in **memory** (**stack** vs **heap**)

---

## üìä Categories of Data Types

| Type                | Examples                                                      | Stored In | Notes                         |
| ------------------- | ------------------------------------------------------------- | --------- | ----------------------------- |
| **Value Types**     | `int`, `bool`, `char`, `double`, `struct`, `enum`             | üß† Stack  | Fast access, copied by value  |
| **Reference Types** | `string`, `class`, `object`, `interface`, `array`, `delegate` | üì¶ Heap   | Shared references, not copied |

> ‚ö†Ô∏è **Key difference:**
> Value types store **actual data**, while reference types store a **pointer to data** on the heap.

---

## üîπ Value Types

These types:

- Hold **direct values**
- Are stored on the **stack**
- Are **copied** when passed between variables or methods

### üí° Example

```csharp
int a = 5;
int b = a;
b = 10;
Console.WriteLine(a); // üëâ 5
```

> ‚úÖ `a` is unchanged ‚Äî `b` got its own **copy**.

### üì¶ Built-in Value Types

```csharp
int, long, double, float, bool, char, byte, short
```

### üõ† Custom Value Types

```csharp
struct Point {
    public int X;
    public int Y;
}
```

> ‚úÖ `struct` = lightweight data containers; good for small, immutable objects.

---

## üî∏ Reference Types

These types:

- Hold a **reference (address)** to data in **heap**
- Are shared across multiple variables unless **explicitly cloned**
- **Modifying one variable** affects the others referencing the same object

### üí° Example

```csharp
class Person {
    public string Name;
}

var p1 = new Person { Name = "Hady" };
var p2 = p1;
p2.Name = "Ali";

Console.WriteLine(p1.Name); // üëâ "Ali"
```

> ‚ùó Both `p1` and `p2` point to the **same object** on the heap.

### üåê Common Reference Types

- `string` (immutable)
- `class`
- `array`
- `object`
- `interface`
- `delegate`

---

## üÜö Value vs Reference: Memory Diagram

```plaintext
Stack:                         Heap:
-------                        ------------------
| a | --> 5                    (nothing here)
| b | --> 5

| p1 | -----> [Person: "Ali"]
| p2 | -----> (same as p1)
```

> üß† Value types sit **on the stack**, reference types **point to heap objects**.

---

## üß™ String Is a Special Case

```csharp
string s1 = "Hello";
string s2 = s1;
s2 = "World";
Console.WriteLine(s1); // üëâ "Hello"
```

- `string` is a **reference type**, **BUT** it's **immutable**.
- Any change creates a **new object**.
- That‚Äôs why `s1` wasn‚Äôt changed when `s2` was reassigned.

---

## üßÆ Nullable Value Types

C# allows **value types to be nullable** using `?`

```csharp
int? x = null;
bool? isReady = true;
```

> üß† This is useful for databases or optional values.

---

## ‚ö†Ô∏è Common Mistakes to Avoid

| Mistake                                            | Explanation                                       |
| -------------------------------------------------- | ------------------------------------------------- |
| Confusing value vs reference assignment            | Know when you're copying vs pointing              |
| Forgetting structs are value types                 | Copying a struct **copies data**, not pointer     |
| Modifying a reference in a method                  | Will affect the original if it's a reference type |
| Assuming strings behave like other reference types | Strings are **immutable** reference types         |

---

## üß™ Method Parameter Behavior

```csharp
void ChangeValue(int x) {
    x = 100;
}

void ChangeObject(Person p) {
    p.Name = "Changed";
}
```

| Call               | Effect                       |
| ------------------ | ---------------------------- |
| `ChangeValue(a)`   | ‚ùå Won‚Äôt affect original `a` |
| `ChangeObject(p1)` | ‚úÖ Will affect `p1.Name`     |

---

## üó£ Interview-Ready Summary

> ‚ÄúIn C#, value types store data directly on the stack and are copied when assigned. Reference types store references to data on the heap. Understanding this helps prevent unintended side-effects when sharing data between variables or methods, especially in enterprise-scale applications.‚Äù

---

## ‚úÖ Quick Recap Table

| Feature               | Value Type              | Reference Type             |
| --------------------- | ----------------------- | -------------------------- |
| Stored In             | Stack                   | Heap                       |
| Memory Allocation     | Fast                    | Slower                     |
| Copies or References? | Copies by value         | Shares reference           |
| Examples              | `int`, `bool`, `struct` | `class`, `string`, `array` |
| Custom Types          | `struct`                | `class`, `interface`       |
