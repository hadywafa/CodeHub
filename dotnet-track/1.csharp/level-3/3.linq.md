# üîç Topic 3 (Level 3): **LINQ in C# ‚Äì Language Integrated Query**

> Query your data like SQL, but inside C# with full type safety and IntelliSense üß†

---

## üß† What is LINQ?

> **LINQ** (Language Integrated Query) allows you to **query collections**, **databases**, **XML**, and more using a **C#-based SQL-like syntax**.

‚úÖ It's like SQL for objects
‚úÖ Built into C#
‚úÖ Works with arrays, lists, XML, EF, and more

---

## üéØ Why Use LINQ?

| Feature       | Benefit                           |
| ------------- | --------------------------------- |
| ‚úÖ Readable   | SQL-style querying in C#          |
| ‚úÖ Composable | Chainable, expressive             |
| ‚úÖ Type-safe  | IntelliSense, no runtime errors   |
| ‚úÖ Reusable   | Can reuse queries and projections |

---

## üß± 1. LINQ Query Syntax (SQL Style)

```csharp
var result = from p in people
             where p.Age > 18
             orderby p.Name
             select p;
```

‚úÖ Easier for beginners, looks like SQL

---

## üß† 2. LINQ Method Syntax (Fluent Style)

```csharp
var result = people
    .Where(p => p.Age > 18)
    .OrderBy(p => p.Name)
    .Select(p => p);
```

‚úÖ More powerful ‚Äî supports chaining, lambdas, and composition
‚úÖ Preferred in **real-world apps and EF Core**

---

## üß© Common LINQ Methods

| Method                           | Purpose                 | Example                 |
| -------------------------------- | ----------------------- | ----------------------- |
| `.Where()`                       | Filter records          | `x => x.Age > 18`       |
| `.Select()`                      | Project/transform items | `x => x.Name`           |
| `.OrderBy()`                     | Sort ascending          | `x => x.Name`           |
| `.OrderByDescending()`           | Sort descending         | `x => x.Age`            |
| `.First()` / `.FirstOrDefault()` | Get first item          | `x => x.IsActive`       |
| `.Any()`                         | Does any item match?    | `x => x.Name == "Hady"` |
| `.All()`                         | Do all items match?     | `x => x.Age > 20`       |
| `.Count()`                       | How many match          | `x => x.IsActive`       |
| `.Take(n)`                       | First n items           | `Take(3)`               |
| `.Skip(n)`                       | Skip first n items      | `Skip(2)`               |
| `.ToList()`                      | Materialize query       | `ToList()`              |

---

## üõ† Example in Action

```csharp
var activeUsers = users
    .Where(u => u.IsActive)
    .OrderBy(u => u.Name)
    .Select(u => new { u.Id, u.Name })
    .ToList();
```

‚úÖ Chain filters, sort, transform, and convert to list in one fluent expression.

---

## üîÑ 3. LINQ with Collections

```csharp
int[] numbers = { 1, 2, 3, 4, 5, 6 };

var evens = numbers.Where(n => n % 2 == 0);

foreach (var n in evens)
    Console.WriteLine(n); // 2, 4, 6
```

---

## üß† 4. Deferred vs Immediate Execution

| Type      | Example                        | When It Runs                    |
| --------- | ------------------------------ | ------------------------------- |
| Deferred  | `Where()`, `Select()`          | When iterated (e.g., `foreach`) |
| Immediate | `ToList()`, `Count()`, `Sum()` | Immediately                     |

> üí° Use `.ToList()` to force immediate execution and avoid surprises with changing data.

---

## üì¶ 5. Projections with `Select`

```csharp
var names = users.Select(u => u.FirstName + " " + u.LastName);
```

> üîÑ You can also return **anonymous types**:

```csharp
var summaries = users.Select(u => new {
    u.Id,
    Display = $"{u.FirstName} {u.LastName}"
});
```

---

## üß™ 6. LINQ and Conditions

### Filter with multiple conditions

```csharp
.Where(u => u.IsActive && u.Role == "Admin")
```

### Use index in `Select`

```csharp
.Select((value, index) => new { value, index })
```

---

## üí¨ Interview Insight

> ‚ÄúLINQ allows functional-style querying over collections, letting you filter, sort, and project with clean syntax. It improves readability and avoids for-loops in most use cases.‚Äù

---

## ‚úÖ Summary Table

| Query Style   | Syntax Example                        | Notes                              |
| ------------- | ------------------------------------- | ---------------------------------- |
| Query Syntax  | `from x in list where ... select ...` | SQL-like, beginner-friendly        |
| Method Syntax | `list.Where(...).Select(...)`         | Fluent, flexible, real-world usage |
| Immediate     | `.ToList()`, `.Count()`               | Runs right away                    |
| Deferred      | `.Where()`, `.Select()`               | Runs on iteration                  |
