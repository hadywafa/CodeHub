# ğŸŒ¿ Java `Set` Collection

## ğŸ¯ What is `Set` in Java?

A `Set` is a **Collection** that:

- **Does not allow duplicates**
- Is used to **store unique elements**
- Allows at most **one null** (depends on implementation)

---

<div style="text-align: center;">
  <img src="images/java-set-collection.png" style="border-radius: 10px; width: 80%;" alt="Java Set Collection">
</div>

---

```java
Set<String> fruits = new HashSet<>();
fruits.add("Apple");
fruits.add("Banana");
fruits.add("Apple"); // âŒ ignored, duplicate
System.out.println(fruits); // [Apple, Banana]
```

---

## ğŸ§¬ Set Interface Hierarchy

<div align="center">

```mermaid
classDiagram
    Collection <|-- Set
    Set <|-- HashSet
    Set <|-- LinkedHashSet
    Set <|-- SortedSet
    SortedSet <|-- TreeSet
```

</div>

---

## ğŸ“¦ 1. `HashSet` â€“ Fast, Unordered, Unique

- âœ… Stores elements using **hashing**
- âŒ No guarantee of **insertion order**
- âš¡ Fast lookups, inserts, deletes

```java
Set<String> colors = new HashSet<>();
colors.add("Red");
colors.add("Blue");
colors.add("Green");
fruits.add("Blue"); // âŒ ignored, duplicate
System.out.println(colors); // â— Order NOT guaranteed
```

### âœ¨ Complex Object HashSet (With `equals()` + `hashCode()`)

```java
class Item {
    String name;
    int price;

    public Item(String name, int price) {
        this.name = name;
        this.price = price;
    }

    public boolean equals(Object o) {
        if (o instanceof Item other)
            return name.equals(other.name) && price == other.price;
        return false;
    }

    public int hashCode() {
        return name.hashCode() + 31 * price;
    }

    public String toString() {
        return name + ": $" + price;
    }
}

Set<Item> items = new HashSet<>();
items.add(new Item("Banana", 10));
items.add(new Item("Banana", 10)); // âŒ Duplicate by content!
System.out.println(items); // Only 1 entry
```

---

## ğŸ“˜ 2. `LinkedHashSet` â€“ Maintains Insertion Order

- âœ… Ordered by **insertion**
- âš¡ Slower than HashSet
- ğŸ”„ Good when order matters (like caching)

```java
Set<String> cities = new LinkedHashSet<>();
cities.add("Dubai");
cities.add("Cairo");
cities.add("Paris");
System.out.println(cities); // [Dubai, Cairo, Paris]
```

---

## ğŸŒ² 3. `TreeSet` â€“ Sorted, Unique Elements

- âœ… Sorted order (default: ascending)
- âš ï¸ No `null` if not empty
- âš ï¸ Requires elements to be **comparable**

```java
Set<Integer> nums = new TreeSet<>();
nums.add(50);
nums.add(20);
nums.add(10);
nums.add(30);
System.out.println(nums); // [10, 20, 30, 50]
```

### ğŸ§  Complex TreeSet with Comparable

```java
class Employee implements Comparable<Employee> {
    int id;
    String name;

    public Employee(int id, String name) {
        this.id = id;
        this.name = name;
    }

    public int compareTo(Employee other) {
        return this.id - other.id;
    }

    public String toString() {
        return id + " - " + name;
    }
}

Set<Employee> set = new TreeSet<>();
set.add(new Employee(101, "Raj"));
set.add(new Employee(100, "Sara"));
set.add(new Employee(100, "Ahmed")); // âŒ Duplicate
System.out.println(set); // Sorted by ID
```

---

## ğŸ”„ `SortedSet` â€“ Specialized TreeSet View

`SortedSet` is an interface implemented by `TreeSet`.

```java
SortedSet<String> letters = new TreeSet<>();
letters.add("A");
letters.add("D");
letters.add("B");
System.out.println(letters.headSet("C")); // [A, B]
System.out.println(letters.subSet("A", "D")); // [A, B]
```

---

## âš–ï¸ HashSet vs LinkedHashSet vs TreeSet â€“ Comparison

| Feature              | HashSet       | LinkedHashSet      | TreeSet                   |
| -------------------- | ------------- | ------------------ | ------------------------- |
| Ordering             | âŒ No         | âœ… Insertion Order | âœ… Sorted (Ascending)     |
| Null Support         | âœ… One `null` | âœ… One `null`      | âš ï¸ Only if empty          |
| Performance          | âš¡ Fastest    | âš¡ Medium          | ğŸ¢ Slower (Balanced Tree) |
| Duplicate Prevention | âœ… Yes        | âœ… Yes             | âœ… Yes                    |
| Backed By            | Hash Table    | Hash Table + DLL   | Red-Black Tree            |
| Thread Safe          | âŒ No         | âŒ No              | âŒ No                     |

---

## ğŸ§ª HashSet vs TreeSet - Speed Test (Visual)

```java
Set<Integer> hashSet = new HashSet<>();
Set<Integer> treeSet = new TreeSet<>();

long t1 = System.nanoTime();
for (int i = 0; i < 1_000_000; i++) hashSet.add(i);
long t2 = System.nanoTime();

long t3 = System.nanoTime();
for (int i = 0; i < 1_000_000; i++) treeSet.add(i);
long t4 = System.nanoTime();

System.out.println("HashSet time: " + (t2 - t1));
System.out.println("TreeSet time: " + (t4 - t3));
```

---

## ğŸ§  Best Practices

| Use Case                    | Recommended Set                        |
| --------------------------- | -------------------------------------- |
| Need unique items, no order | `HashSet`                              |
| Need insertion order        | `LinkedHashSet`                        |
| Need sorted items           | `TreeSet`                              |
| Need concurrency            | `CopyOnWriteArraySet` or sync wrappers |
