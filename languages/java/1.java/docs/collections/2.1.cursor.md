# ğŸ” Java Collection Cursors

Cursors are Java tools used to **traverse elements in a collection** one by one. They work like **pointers** that move through lists, vectors, etc.

---

<div style="text-align: center;">
  <img src="images/java-cursors.png" style="border-radius: 10px; width: 80%;" alt="Java Collection Cursors">
</div>

---

## ğŸ§­ Types of Cursors in Java

Java provides **3 types of cursors**:

| Cursor Type      | Direction      | Modifies Collection?    | Works With                                          |
| ---------------- | -------------- | ----------------------- | --------------------------------------------------- |
| **Iterator**     | Forward only   | âœ… Remove only          | All Collections (`List`, `Set`, etc.)               |
| **ListIterator** | Forward & Back | âœ… Add, Remove, Replace | Only `List` (e.g., `ArrayList`, `LinkedList`)       |
| **Enumeration**  | Forward only   | âŒ Read-only            | Legacy collections (`Vector`, `Stack`, `Hashtable`) |

---

## 1ï¸âƒ£ Iterator â€“ Universal Cursor ğŸ”

### âœ… Used for:

- Iterating in **forward** direction
- Used with **any collection**
- Can **remove** elements during iteration

### ğŸ§ª Example:

```java
import java.util.*;

public class IteratorExample {
    public static void main(String[] args) {
        List<String> fruits = new ArrayList<>();
        fruits.add("Apple"); fruits.add("Banana"); fruits.add("Orange");

        Iterator<String> it = fruits.iterator();
        while (it.hasNext()) {
            String fruit = it.next();
            if (fruit.equals("Banana")) it.remove(); // remove "Banana"
            else System.out.println(fruit);
        }
        System.out.println("Updated List: " + fruits);
    }
}
```

### ğŸ›  Key Methods:

- `hasNext()`: Checks if more elements exist
- `next()`: Moves to next element
- `remove()`: Removes the current element

---

## 2ï¸âƒ£ ListIterator â€“ Bidirectional Cursor â†”ï¸

### âœ… Used for:

- **Both forward and backward** traversal
- Only for **List collections**
- **Add, update, or remove** elements during iteration

### ğŸ§ª Example:

```java
import java.util.*;

public class ListIteratorExample {
    public static void main(String[] args) {
        List<Integer> numbers = new LinkedList<>(List.of(10, 20, 30, 40));
        ListIterator<Integer> it = numbers.listIterator();

        while (it.hasNext()) {
            int val = it.next();
            if (val == 20) it.add(25);     // insert after 20
            if (val == 30) it.set(300);    // replace 30 with 300
        }

        System.out.println("Updated list: " + numbers);

        // Traverse in reverse
        System.out.print("Reverse: ");
        while (it.hasPrevious()) {
            System.out.print(it.previous() + " ");
        }
    }
}
```

### ğŸ›  Key Methods:

- `hasNext()` / `next()`
- `hasPrevious()` / `previous()`
- `add(obj)` â†’ insert
- `set(obj)` â†’ replace
- `remove()` â†’ delete

---

## 3ï¸âƒ£ Enumeration â€“ Legacy Cursor ğŸ§“

### âœ… Used for:

- **Forward-only** read access
- Works with **legacy classes only** (`Vector`, `Stack`, `Hashtable`)
- **Cannot modify** the collection

### ğŸ§ª Example:

```java
import java.util.*;

public class EnumerationExample {
    public static void main(String[] args) {
        Vector<String> animals = new Vector<>();
        animals.add("Dog");
        animals.add("Cat");
        animals.add("Elephant");

        Enumeration<String> e = animals.elements();
        while (e.hasMoreElements()) {
            System.out.println(e.nextElement());
        }
    }
}
```

### ğŸ›  Key Methods:

- `hasMoreElements()`
- `nextElement()`

---

## ğŸ§  Cursor Comparison Table

| Feature             | `Iterator`                              | `ListIterator`         | `Enumeration`     |
| ------------------- | --------------------------------------- | ---------------------- | ----------------- |
| âœ… Direction        | Forward only                            | Forward & Backward     | Forward only      |
| âœ… Modify Elements? | Yes (remove only)                       | Yes (add, set, remove) | âŒ No             |
| âœ… Read Elements?   | âœ… Yes                                  | âœ… Yes                 | âœ… Yes            |
| ğŸ§  Collection Type  | Any Collection                          | Only `List` types      | Only Legacy types |
| ğŸ’¡ Supports Null?   | âœ… Yes                                  | âœ… Yes                 | âœ… Yes            |
| ğŸš« Fail-safe?       | âŒ No (ConcurrentModificationException) | âŒ No                  | âŒ No             |

---

## ğŸ“ Summary

| When to Useâ€¦                        | Use This Cursor |
| ----------------------------------- | --------------- |
| Need simple forward loop            | `Iterator`      |
| Need add/remove/set + backward move | `ListIterator`  |
| Reading from legacy classes         | `Enumeration`   |
| Avoid modification during iteration | `Enumeration`   |

---

## âš ï¸ Tip for Interviews

ğŸ’¥ All cursors **fail-fast**, meaning if you modify the collection directly (e.g., `list.add()` outside the iterator), youâ€™ll get a **ConcurrentModificationException**.
