# Topic

## Hady

- index data stored also in pages
- index pages structure data called index algorithms (B TREE , B+ TREE, Hash Index, ..etc)

- what is covered index ? why `SELECT \* FROM TABLE WHERE age < 30` although age has index, i will scan entire table , why ?

### Covered Index

<!-- ! Question 1 -->

**<font color="red">1.Question?</font>**  
what do you mean by that
as i know the index helps to filter data pages that will be loaded from dis to memory by getting correct row id ( location of required pages)
once it loaded in memory then you can select wich attribute you need from load rows in loaded pages

what cover index will give ?

<!-- ? Answer -->

**<font color="green">1.Answer:</font>**

You're absolutely right! Traditional indexes help in quickly locating the data pages that need to be loaded into memory, based on the indexed columns. They make use of the row IDs to pinpoint the exact locations of the required data.

A covering index takes this a step further. Instead of just having pointers to the data, a covering index actually contains all the data that a query needs. This means the query can be fulfilled directly from the index itself without needing to go back to the table.

Here are the advantages of using a covering index:

1. **Reduced I/O Operations**: Since the index contains all the necessary data, the database engine doesn't need to fetch additional data pages from the table, reducing the number of I/O operations.
2. **Improved Query Performance**: Accessing data from an index is generally faster than accessing data from the table, especially if the table is large.
3. **Efficient Data Retrieval**: The covering index allows the database engine to retrieve all the required columns directly from the index, which speeds up the query execution.
4. **Lower Read Latency**: By reducing the need to access the table, the read latency is minimized, leading to faster query responses.

To illustrate, consider a table with columns `id`, `name`, `age`, and `address`, and a query like `SELECT name, age FROM TABLE WHERE age < 30`. Without a covering index, the database might use an index on `age` to quickly find the relevant rows but will still need to access the table to retrieve the `name` column.

However, if you have a covering index on `age, name`, the query can be fulfilled entirely from the index without going back to the table, since both `age` and `name` are included in the index.

**Example of Creating a Covering Index:**

```sql
CREATE INDEX idx_covering_age_name ON TABLE(age, name);
```

This index covers the query `SELECT name, age FROM TABLE WHERE age < 30` and can significantly speed up its execution.

I hope this clears things up! Would you like to dive deeper into any specific aspect or explore another topic?

---

<!-- ! Question 1 -->

**<font color="red">2.Question?</font>**  
do you mean the name data will be stored with index ? as i know ( you can correct me) each table has indexes data (different than it acual row data) that also stored in pages in files in disks so do you mean covered index will also stored the name value with index in pages ?

<!-- ? Answer -->

**<font color="green">2.Answer:</font>**

Yes, exactly! In a covering index, the additional columns specified in the index (like `name` in your example) are stored along with the indexed columns (`age`). This means that the index itself contains all the required data for the query.

To clarify:

1. **Standard Index**: Contains pointers to the rows in the table and the indexed column(s). For example, if you create an index on `age`, the index will store `age` values and pointers to the rows in the table where those `age` values are found.
2. **Covering Index**: Contains the indexed columns and additional columns specified in the index creation. For example, if you create a covering index on `age, name`, the index will store both `age` and `name` values along with the pointers to the rows in the table.

When a query like `SELECT name, age FROM TABLE WHERE age < 30` is executed, the database engine can retrieve the necessary data (both `name` and `age`) directly from the covering index without accessing the table itself. This significantly reduces the I/O operations required to fulfill the query.

Here's an example to illustrate:

**Creating a Standard Index:**

```sql
CREATE INDEX idx_age ON TABLE(age);
```

- This index stores `age` values and pointers to the rows in the table.

**Creating a Covering Index:**

```sql
CREATE INDEX idx_covering_age_name ON TABLE(age, name);
```

- This index stores both `age` and `name` values along with pointers to the rows.

By using a covering index, you optimize queries that can retrieve all needed data directly from the index, thereby improving performance.

I hope this explanation helps! If you have any more questions or need further clarification, feel free to ask.
